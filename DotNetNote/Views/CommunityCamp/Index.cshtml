@using DotNetNote.Models

@{ 
  ViewData["Title"] = "커뮤니티 캠프";
} 

@model List<CommunityCampJoinMember>

<h1>커뮤니티 캠프 테스트</h1> 
<h2>참가자 리스트</h2>
<a asp-controller="CommunityCamp" asp-action="Create" class="btn btn-info">참가 등록하기</a>
<hr />

<div class="row">
  <div class="col-md-6">
    <div class="panel panel-default">
      <div class="panel-heading">ASP.NET Korea 참여자 리스트</div>
      <div class="panel-body">
        @foreach(var aspnetkorea in Model.Where(m=>m.CommunityName=="ASP.NET Korea").OrderBy(m => m.Id).Take(15))
        {
          <div class="col-md-3">
            @aspnetkorea.Name
            <a asp-controller="CommunityCamp" asp-action="Delete" title="취소">
              <i class="glyphicon glyphicon-remove-sign"></i>
            </a>
          </div>
        }
      </div>
    </div>
  </div>
  <div class="col-md-6">
    <div class="panel panel-default">
      <div class="panel-heading">Taeyo.Net 참여자 리스트</div>
      <div class="panel-body">
        @foreach (var taeyonetkorea in Model.Where(m => m.CommunityName == "Taeyo.Net").OrderBy(m => m.Id).Take(15))
        {
          <div class="col-md-3">
            @taeyonetkorea.Name
            <a asp-controller="CommunityCamp" asp-action="Delete" title="취소">
              <i class="glyphicon glyphicon-remove-sign"></i>
            </a>
          </div>
        }
      </div>
    </div>
  </div>
</div>
<div class="row">
  <div class="col-md-6">
    <div class="panel panel-default">
      <div class="panel-heading">ASP.NET Korea 대기자 리스트</div>
      <div class="panel-body">
        @foreach(var aspnetkorea in Model.Where(m=>m.CommunityName=="ASP.NET Korea").OrderBy(m => m.Id).Skip(15).Take(25))
        {
          <div class="col-md-3">
            @{ 
              var aspName = aspnetkorea.Name[0].ToString() + "*" + aspnetkorea.Name.Substring(aspnetkorea.Name.Length - 1);
            }
            @aspName
            <a asp-controller="CommunityCamp" asp-action="Delete" title="취소">
              <i class="glyphicon glyphicon-remove-sign"></i>
            </a>
          </div>
        }
      </div>
    </div>
  </div>
  <div class="col-md-6">
    <div class="panel panel-default">
      <div class="panel-heading">
        Taeyo.Net 대기자 리스트
      </div>
      <div class="panel-body">
        @foreach(var taeyonetkorea in Model.Where(m => m.CommunityName == "Taeyo.Net").OrderBy(m => m.Id).Skip(15).Take(25))
        {
          <div class="col-md-3">
            @{ 
              var taeyoName = taeyonetkorea.Name[0].ToString() + "*" + taeyonetkorea.Name.Substring(taeyonetkorea.Name.Length - 1);
            }
            @taeyoName
            <a asp-controller="CommunityCamp" asp-action="Delete" title="취소">
              <i class="glyphicon glyphicon-remove-sign"></i>
            </a>
          </div>
              }
      </div>
    </div>
  </div>
</div>

@section Scripts{ 
  @if (TempData["Message"] != null)
  {
    <script>
      toastr.info('@TempData["Message"]');
    </script>
  }
}